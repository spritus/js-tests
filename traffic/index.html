<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body {
        background-color: gray;
        background-color: ;
    }

    .lamba {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        border: solid 1px;
        margin-bottom: 3px;
    }

    .trafik-lambasi {
        position: absolute;
        background-color: slategray;
        border-radius: 5px;
        border: solid 1px;
        padding: 3px;
        width: 30px;
        height: 96px;
    }
</style>

<body>

</body>
<script>
    /*    class TrafikLambasi {
            constructor(kirmiziSure, sariSure, yesilSure) {
                this.kirmiziSure = kirmiziSure;
                this.sariSure = sariSure;
                this.yesilSure = yesilSure;
                this.durum = "kirmizi";
                this.intervalId = null;
            }
    
            baslat() {
                if (this.intervalId) {
                    clearInterval(this.intervalId);
                }
                this.intervalId = setInterval(() => {
                    switch (this.durum) {
                        case "kirmizi":
                            this.kirmiziIsık();
                            break;
                        case "sari":
                            this.sariIsık();
                            break;
                        case "yesil":
                            this.yesilIsık();
                            break;
                    }
                }, 1000);
            }
    
            kirmiziIsık() {
                console.log("Kırmızı ışık yanıyor!");
                this.durum = "sari";
                setTimeout(() => {
                    this.sariIsık();
                }, this.kirmiziSure * 1000);
            }
    
            sariIsık() {
                console.log("Sarı ışık yanıyor!");
                this.durum = "yesil";
                setTimeout(() => {
                    this.yesilIsık();
                }, this.sariSure * 1000);
            }
    
            yesilIsık() {
                console.log("Yeşil ışık yanıyor!");
                this.durum = "kirmizi";
                setTimeout(() => {
                    this.kirmiziIsık();
                }, this.yesilSure * 1000);
            }
    
            durdur() {
                clearInterval(this.intervalId);
            }
        }
    
        // Örnek kullanım
        const trafikLambasi = new TrafikLambasi(5, 2, 3);
        trafikLambasi.baslat();*/

    class TrafikLambasi {
        constructor(x, y, ksure, ysure) {
            this.durum = 0;
            this.body = document.createElement("div");
            this.body.className = "trafik-lambasi";
            this.body.style.left = x + "px";
            this.body.style.top = y + "px";
            document.body.append(this.body);

            this.kirmizi = document.createElement("div");
            this.kirmizi.className = "lamba";
            this.body.append(this.kirmizi);

            this.sari = document.createElement("div");
            this.sari.className = "lamba";
            this.body.append(this.sari);

            this.yesil = document.createElement("div");
            this.yesil.className = "lamba";
            this.body.append(this.yesil);

            this.t = 0;
            setInterval(() => {
                if (this.durum == 0) {
                    this.kirmizi.style.backgroundColor = "red";
                    this.yesil.style.backgroundColor = "transparent";
                }
                else if (this.durum == 1) {
                    this.kirmizi.style.backgroundColor = "transparent";
                    this.yesil.style.backgroundColor = "lime";
                }
                if (this.durum == 0 && this.t % ksure == 0) this.durum = 1;
                if (this.durum == 1 && this.t % ysure == 0) this.durum = 0;

                this.t++;
            }, 1000);
        }
    }

    let trafikLambasiGuney = new TrafikLambasi(500, 500, 5, 3);
    //let trafikLambasiBati = new TrafikLambasi(200, 200);

</script>

</html>